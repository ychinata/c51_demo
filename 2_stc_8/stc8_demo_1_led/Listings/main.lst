C51 COMPILER V9.54   MAIN                                                                  09/21/2022 12:53:13 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Program Files\Keil_v5\C51\BIN\C51.EXE User\main.c LARGE OMF2 OPTIMIZE(8,SPEED) BROWSE DEBUG PRIN
                    -T(.\Listings\main.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <STC8H.H>
   2          
   3          // 包含了stc8h.h，就不用包含reg51并声明寄存器
   4          //#include "reg51.h"
   5          //sfr P0M1 = 0x93;
   6          //sfr P0M0 = 0x94;
   7          
   8          // 
   9          /*
  10           * Func:延时函数
  11           * Author: STC-ISP
  12           * Date: 2022.9.21
  13           */
  14          void Delay1000ms()              //@11.0592MHz
  15          {
  16   1              unsigned char i, j, k;
  17   1      
  18   1              //_nop_();
  19   1              //_nop_();
  20   1              i = 4;
  21   1              j = 6;
  22   1              k = 203;
  23   1              do
  24   1              {
  25   2                      do
  26   2                      {
  27   3                              while (--k);
  28   3                      } while (--j);
  29   2              } while (--i);
  30   1      }
  31          
  32          
  33          //软延时
  34          void delay()
  35          {
  36   1          int i;
  37   1          int j;
  38   1          for (i = 0; i < 10000; i++) {
  39   2              for (j = 0; j < 1000; j++) {
  40   3          
  41   3              }
  42   2          }
  43   1      
  44   1      }
  45          
  46          void LED_Flash()
  47          {
  48   1              unsigned char i;
  49   1          P2 = 0x01;
  50   1          for (i = 0; i < 8; i++) {
  51   2              P2 = ~(0x01 << i);
  52   2              //delay();
  53   2              Delay1000ms();
  54   2          }
C51 COMPILER V9.54   MAIN                                                                  09/21/2022 12:53:13 PAGE 2   

  55   1      }
  56          
  57          /*
  58           * Func:闪烁LED灯
  59           * Author: xy
  60           * Date: 2022.9.21
  61           */
  62          void main1()
  63          {
  64   1          //P0M0 = 0x00;    //P0口准双向输入输出
  65   1          //P0M1 = 0x00;    //P0口准双向输入输出
  66   1          P2M0 = 0x00;    //P2口准双向输入输出
  67   1          P2M1 = 0x00;    //P2口准双向输入输出
  68   1          
  69   1          while (1) {
  70   2              P2 = 0x00;
  71   2              //delay();
  72   2              Delay1000ms();
  73   2              P2 = 0xff;
  74   2              //delay();
  75   2              Delay1000ms();
  76   2          }
  77   1      }
  78          
  79          
  80          void main()
  81          {
  82   1          P2M0 = 0x00;    //P2口准双向输入输出
  83   1          P2M1 = 0x00;    //P2口准双向输入输出
  84   1          while (1) {
  85   2              LED_Flash();
  86   2          }
  87   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     99    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
